{
    "version": 1,
    "serial": 96,
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {
                "aws_autoscaling_group.backend": {
                    "type": "aws_autoscaling_group",
                    "depends_on": [
                        "aws_launch_configuration.backend",
                        "aws_subnet.backend-a",
                        "aws_subnet.backend-b"
                    ],
                    "primary": {
                        "id": "backend",
                        "attributes": {
                            "default_cooldown": "300",
                            "desired_capacity": "0",
                            "force_delete": "false",
                            "health_check_grace_period": "60",
                            "health_check_type": "EC2",
                            "id": "backend",
                            "launch_configuration": "terraform-6iyoctagmffbrcva2rtz3dvnii",
                            "load_balancers.#": "0",
                            "max_size": "0",
                            "min_size": "0",
                            "name": "backend",
                            "tag.#": "4",
                            "tag.326913537.key": "tapglue_installer",
                            "tag.326913537.propagate_at_launch": "true",
                            "tag.326913537.value": "distributor",
                            "tag.3668330946.key": "distributor_target",
                            "tag.3668330946.propagate_at_launch": "true",
                            "tag.3668330946.value": "postgres",
                            "tag.3823632984.key": "Name",
                            "tag.3823632984.propagate_at_launch": "true",
                            "tag.3823632984.value": "backend",
                            "tag.680508887.key": "installer_channel",
                            "tag.680508887.propagate_at_launch": "true",
                            "tag.680508887.value": "beta",
                            "termination_policies.#": "3",
                            "termination_policies.3089922268": "ClosestToNextInstanceHour",
                            "termination_policies.3602983927": "OldestLaunchConfiguration",
                            "termination_policies.912102603": "OldestInstance",
                            "vpc_zone_identifier.#": "2",
                            "vpc_zone_identifier.3817841510": "subnet-024d3575",
                            "vpc_zone_identifier.419577733": "subnet-a398c8c6"
                        }
                    }
                },
                "aws_autoscaling_group.corporate": {
                    "type": "aws_autoscaling_group",
                    "depends_on": [
                        "aws_elb.corporate",
                        "aws_launch_configuration.corporate",
                        "aws_subnet.corporate-a",
                        "aws_subnet.corporate-b"
                    ],
                    "primary": {
                        "id": "corporate",
                        "attributes": {
                            "default_cooldown": "300",
                            "desired_capacity": "0",
                            "force_delete": "false",
                            "health_check_grace_period": "60",
                            "health_check_type": "EC2",
                            "id": "corporate",
                            "launch_configuration": "terraform-llnmr3dtz5fmfa3tvmma3lmpgm",
                            "load_balancers.#": "1",
                            "load_balancers.523491234": "corporate",
                            "max_size": "0",
                            "min_size": "0",
                            "name": "corporate",
                            "tag.#": "3",
                            "tag.1701872992.key": "tapglue_installer",
                            "tag.1701872992.propagate_at_launch": "true",
                            "tag.1701872992.value": "corporate",
                            "tag.2536029363.key": "Name",
                            "tag.2536029363.propagate_at_launch": "true",
                            "tag.2536029363.value": "corporate",
                            "tag.680508887.key": "installer_channel",
                            "tag.680508887.propagate_at_launch": "true",
                            "tag.680508887.value": "beta",
                            "termination_policies.#": "3",
                            "termination_policies.3089922268": "ClosestToNextInstanceHour",
                            "termination_policies.3602983927": "OldestLaunchConfiguration",
                            "termination_policies.912102603": "OldestInstance",
                            "vpc_zone_identifier.#": "2",
                            "vpc_zone_identifier.2585711459": "subnet-004d3577",
                            "vpc_zone_identifier.2858994595": "subnet-ac98c8c9"
                        }
                    }
                },
                "aws_autoscaling_group.frontend": {
                    "type": "aws_autoscaling_group",
                    "depends_on": [
                        "aws_elb.frontend",
                        "aws_launch_configuration.frontend",
                        "aws_subnet.frontend-a",
                        "aws_subnet.frontend-b"
                    ],
                    "primary": {
                        "id": "frontend",
                        "attributes": {
                            "default_cooldown": "300",
                            "desired_capacity": "1",
                            "force_delete": "false",
                            "health_check_grace_period": "30",
                            "health_check_type": "EC2",
                            "id": "frontend",
                            "launch_configuration": "terraform-sjldd5brwzgxdb7yavzxtkwx5y",
                            "load_balancers.#": "1",
                            "load_balancers.3423674012": "frontend",
                            "max_size": "1",
                            "min_size": "1",
                            "name": "frontend",
                            "tag.#": "4",
                            "tag.2169015490.key": "Name",
                            "tag.2169015490.propagate_at_launch": "true",
                            "tag.2169015490.value": "frontend",
                            "tag.3301151210.key": "intaker_target",
                            "tag.3301151210.propagate_at_launch": "true",
                            "tag.3301151210.value": "redis",
                            "tag.4214263898.key": "tapglue_installer",
                            "tag.4214263898.propagate_at_launch": "true",
                            "tag.4214263898.value": "intaker",
                            "tag.680508887.key": "installer_channel",
                            "tag.680508887.propagate_at_launch": "true",
                            "tag.680508887.value": "beta",
                            "termination_policies.#": "3",
                            "termination_policies.3089922268": "ClosestToNextInstanceHour",
                            "termination_policies.3602983927": "OldestLaunchConfiguration",
                            "termination_policies.912102603": "OldestInstance",
                            "vpc_zone_identifier.#": "2",
                            "vpc_zone_identifier.2984473762": "subnet-a098c8c5",
                            "vpc_zone_identifier.855611460": "subnet-034d3574"
                        }
                    }
                },
                "aws_autoscaling_notification.autoscaling-staging": {
                    "type": "aws_autoscaling_notification",
                    "depends_on": [
                        "aws_autoscaling_group.backend",
                        "aws_autoscaling_group.frontend",
                        "aws_sns_topic.autoscaling-staging"
                    ],
                    "primary": {
                        "id": "arn:aws:sns:eu-west-1:775034650473:autoscaling-staging",
                        "attributes": {
                            "group_names.#": "2",
                            "group_names.2414201201": "backend",
                            "group_names.3423674012": "frontend",
                            "id": "arn:aws:sns:eu-west-1:775034650473:autoscaling-staging",
                            "notifications.#": "4",
                            "notifications.3116970575": "autoscaling:EC2_INSTANCE_TERMINATE",
                            "notifications.3298075921": "autoscaling:EC2_INSTANCE_TERMINATE_ERROR",
                            "notifications.4098158487": "autoscaling:EC2_INSTANCE_LAUNCH",
                            "notifications.753791182": "autoscaling:EC2_INSTANCE_LAUNCH_ERROR",
                            "topic_arn": "arn:aws:sns:eu-west-1:775034650473:autoscaling-staging"
                        }
                    }
                },
                "aws_autoscaling_policy.backend-decrease-on-load": {
                    "type": "aws_autoscaling_policy",
                    "depends_on": [
                        "aws_autoscaling_group.backend"
                    ],
                    "primary": {
                        "id": "backend-decrease-on-load",
                        "attributes": {
                            "adjustment_type": "PercentChangeInCapacity",
                            "arn": "arn:aws:autoscaling:eu-west-1:775034650473:scalingPolicy:bd1e6bcb-8fd2-49a3-ba5c-439f535cc02c:autoScalingGroupName/backend:policyName/backend-decrease-on-load",
                            "autoscaling_group_name": "backend",
                            "cooldown": "60",
                            "id": "backend-decrease-on-load",
                            "name": "backend-decrease-on-load",
                            "scaling_adjustment": "10"
                        }
                    }
                },
                "aws_autoscaling_policy.backend-increase-on-load": {
                    "type": "aws_autoscaling_policy",
                    "depends_on": [
                        "aws_autoscaling_group.backend"
                    ],
                    "primary": {
                        "id": "backend-increase-on-load",
                        "attributes": {
                            "adjustment_type": "PercentChangeInCapacity",
                            "arn": "arn:aws:autoscaling:eu-west-1:775034650473:scalingPolicy:75405b5b-d0f6-4ef8-baf1-d5e9c2f3c9bc:autoScalingGroupName/backend:policyName/backend-increase-on-load",
                            "autoscaling_group_name": "backend",
                            "cooldown": "60",
                            "id": "backend-increase-on-load",
                            "name": "backend-increase-on-load",
                            "scaling_adjustment": "10"
                        }
                    }
                },
                "aws_autoscaling_policy.corporate-decrease-on-load": {
                    "type": "aws_autoscaling_policy",
                    "depends_on": [
                        "aws_autoscaling_group.corporate"
                    ],
                    "primary": {
                        "id": "corporate-decrease-on-load",
                        "attributes": {
                            "adjustment_type": "PercentChangeInCapacity",
                            "arn": "arn:aws:autoscaling:eu-west-1:775034650473:scalingPolicy:5e2b9a72-9f63-4588-8708-8c696871585c:autoScalingGroupName/corporate:policyName/corporate-decrease-on-load",
                            "autoscaling_group_name": "corporate",
                            "cooldown": "60",
                            "id": "corporate-decrease-on-load",
                            "name": "corporate-decrease-on-load",
                            "scaling_adjustment": "10"
                        }
                    }
                },
                "aws_autoscaling_policy.corporate-increase-on-load": {
                    "type": "aws_autoscaling_policy",
                    "depends_on": [
                        "aws_autoscaling_group.corporate"
                    ],
                    "primary": {
                        "id": "corporate-increase-on-load",
                        "attributes": {
                            "adjustment_type": "PercentChangeInCapacity",
                            "arn": "arn:aws:autoscaling:eu-west-1:775034650473:scalingPolicy:e22c4048-e7ba-4dbc-bf9b-0a49a601f5a3:autoScalingGroupName/corporate:policyName/corporate-increase-on-load",
                            "autoscaling_group_name": "corporate",
                            "cooldown": "60",
                            "id": "corporate-increase-on-load",
                            "name": "corporate-increase-on-load",
                            "scaling_adjustment": "10"
                        }
                    }
                },
                "aws_autoscaling_policy.frontend-decrease-on-load": {
                    "type": "aws_autoscaling_policy",
                    "depends_on": [
                        "aws_autoscaling_group.frontend"
                    ],
                    "primary": {
                        "id": "frontend-decrease-on-load",
                        "attributes": {
                            "adjustment_type": "PercentChangeInCapacity",
                            "arn": "arn:aws:autoscaling:eu-west-1:775034650473:scalingPolicy:b6f123bd-f536-4979-9c3b-f803820cc3e9:autoScalingGroupName/frontend:policyName/frontend-decrease-on-load",
                            "autoscaling_group_name": "frontend",
                            "cooldown": "60",
                            "id": "frontend-decrease-on-load",
                            "name": "frontend-decrease-on-load",
                            "scaling_adjustment": "10"
                        }
                    }
                },
                "aws_autoscaling_policy.frontend-increase-on-load": {
                    "type": "aws_autoscaling_policy",
                    "depends_on": [
                        "aws_autoscaling_group.frontend"
                    ],
                    "primary": {
                        "id": "frontend-increase-on-load",
                        "attributes": {
                            "adjustment_type": "PercentChangeInCapacity",
                            "arn": "arn:aws:autoscaling:eu-west-1:775034650473:scalingPolicy:f8f63e2c-c7b9-4132-964e-4980b4032cb9:autoScalingGroupName/frontend:policyName/frontend-increase-on-load",
                            "autoscaling_group_name": "frontend",
                            "cooldown": "60",
                            "id": "frontend-increase-on-load",
                            "name": "frontend-increase-on-load",
                            "scaling_adjustment": "10"
                        }
                    }
                },
                "aws_db_instance.master": {
                    "type": "aws_db_instance",
                    "depends_on": [
                        "aws_db_parameter_group.master-staging",
                        "aws_db_subnet_group.staging",
                        "aws_security_group.rds_db"
                    ],
                    "primary": {
                        "id": "tapglue-master",
                        "attributes": {
                            "address": "tapglue-master.czxunysihvq8.eu-west-1.rds.amazonaws.com",
                            "allocated_storage": "100",
                            "apply_immediately": "true",
                            "availability_zone": "eu-west-1b",
                            "backup_retention_period": "7",
                            "backup_window": "04:00-04:30",
                            "db_subnet_group_name": "staging",
                            "endpoint": "tapglue-master.czxunysihvq8.eu-west-1.rds.amazonaws.com:5432",
                            "engine": "postgres",
                            "engine_version": "9.4.4",
                            "id": "tapglue-master",
                            "identifier": "tapglue-master",
                            "instance_class": "db.r3.large",
                            "license_model": "postgresql-license",
                            "maintenance_window": "sat:05:00-sat:06:30",
                            "multi_az": "false",
                            "name": "tapglue",
                            "parameter_group_name": "master-staging",
                            "password": "gFthJy858iXOIA3IM0GARIuFYdIWkeCHJc0vto",
                            "port": "5432",
                            "publicly_accessible": "false",
                            "replicas.#": "1",
                            "replicas.0": "slave1",
                            "security_group_names.#": "0",
                            "status": "available",
                            "storage_encrypted": "true",
                            "storage_type": "gp2",
                            "tags.#": "0",
                            "username": "tapglue",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.4226273104": "sg-9a79b8fe"
                        }
                    }
                },
                "aws_db_instance.slave1": {
                    "type": "aws_db_instance",
                    "depends_on": [
                        "aws_db_instance.master",
                        "aws_db_parameter_group.master-staging",
                        "aws_db_subnet_group.staging",
                        "aws_security_group.rds_db"
                    ],
                    "primary": {
                        "id": "slave1",
                        "attributes": {
                            "address": "slave1.czxunysihvq8.eu-west-1.rds.amazonaws.com",
                            "allocated_storage": "100",
                            "apply_immediately": "true",
                            "availability_zone": "eu-west-1a",
                            "backup_retention_period": "0",
                            "backup_window": "04:00-04:30",
                            "db_subnet_group_name": "staging",
                            "endpoint": "slave1.czxunysihvq8.eu-west-1.rds.amazonaws.com:5432",
                            "engine": "postgres",
                            "engine_version": "9.4.4",
                            "id": "slave1",
                            "identifier": "slave1",
                            "instance_class": "db.r3.xlarge",
                            "license_model": "postgresql-license",
                            "maintenance_window": "sat:05:00-sat:06:30",
                            "multi_az": "false",
                            "name": "tapglue",
                            "parameter_group_name": "master-staging",
                            "password": "gFthJy858iXOIA3IM0GARIuFYdIWkeCHJc0vto",
                            "port": "5432",
                            "publicly_accessible": "false",
                            "replicas.#": "0",
                            "replicate_source_db": "tapglue-master",
                            "security_group_names.#": "0",
                            "status": "available",
                            "storage_encrypted": "true",
                            "storage_type": "gp2",
                            "tags.#": "0",
                            "username": "tapglue",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.4226273104": "sg-9a79b8fe"
                        }
                    }
                },
                "aws_db_parameter_group.master-staging": {
                    "type": "aws_db_parameter_group",
                    "primary": {
                        "id": "master-staging",
                        "attributes": {
                            "description": "Postgres staging parameter group",
                            "family": "postgres9.4",
                            "id": "master-staging",
                            "name": "master-staging",
                            "parameter.#": "2",
                            "parameter.4110333780.apply_method": "",
                            "parameter.4110333780.name": "log_min_duration_statement",
                            "parameter.4110333780.value": "200",
                            "parameter.418023221.apply_method": "",
                            "parameter.418023221.name": "log_statement",
                            "parameter.418023221.value": "all"
                        }
                    }
                },
                "aws_db_subnet_group.staging": {
                    "type": "aws_db_subnet_group",
                    "depends_on": [
                        "aws_subnet.rds-a",
                        "aws_subnet.rds-b"
                    ],
                    "primary": {
                        "id": "staging",
                        "attributes": {
                            "description": "RDS subnet group for staging",
                            "id": "staging",
                            "name": "staging",
                            "subnet_ids.#": "2",
                            "subnet_ids.1265559617": "subnet-014d3576",
                            "subnet_ids.3362915495": "subnet-a298c8c7"
                        }
                    }
                },
                "aws_eip.bastion": {
                    "type": "aws_eip",
                    "depends_on": [
                        "aws_instance.bastion"
                    ],
                    "primary": {
                        "id": "eipalloc-9f24fdfa",
                        "attributes": {
                            "association_id": "eipassoc-3dd34e59",
                            "domain": "vpc",
                            "id": "eipalloc-9f24fdfa",
                            "instance": "i-4a77abe6",
                            "network_interface": "eni-b00f95d7",
                            "private_ip": "10.0.1.209",
                            "public_ip": "52.17.122.98",
                            "vpc": "true"
                        }
                    }
                },
                "aws_elasticache_cluster.rate-limiter": {
                    "type": "aws_elasticache_cluster",
                    "depends_on": [
                        "aws_elasticache_subnet_group.rate-limiter",
                        "aws_elasticache_subnet_group.rate-limiter",
                        "aws_security_group.ec-redis"
                    ],
                    "primary": {
                        "id": "rate-limiter",
                        "attributes": {
                            "cache_nodes.#": "1",
                            "cache_nodes.0.address": "rate-limiter.aneiyk.0001.euw1.cache.amazonaws.com",
                            "cache_nodes.0.id": "0001",
                            "cache_nodes.0.port": "6379",
                            "cluster_id": "rate-limiter",
                            "engine": "redis",
                            "engine_version": "2.8.21",
                            "id": "rate-limiter",
                            "maintenance_window": "sun:05:00-sun:06:00",
                            "node_type": "cache.t2.micro",
                            "num_cache_nodes": "1",
                            "parameter_group_name": "default.redis2.8",
                            "port": "6379",
                            "security_group_ids.#": "1",
                            "security_group_ids.147140442": "sg-9e79b8fa",
                            "security_group_names.#": "0",
                            "subnet_group_name": "rate-limiter",
                            "tags.#": "0"
                        }
                    }
                },
                "aws_elasticache_subnet_group.rate-limiter": {
                    "type": "aws_elasticache_subnet_group",
                    "depends_on": [
                        "aws_subnet.frontend-a",
                        "aws_subnet.frontend-b"
                    ],
                    "primary": {
                        "id": "rate-limiter",
                        "attributes": {
                            "description": "rate limiter cache group",
                            "id": "rate-limiter",
                            "name": "rate-limiter",
                            "subnet_ids.#": "2",
                            "subnet_ids.2984473762": "subnet-a098c8c5",
                            "subnet_ids.855611460": "subnet-034d3574"
                        }
                    }
                },
                "aws_elb.corporate": {
                    "type": "aws_elb",
                    "depends_on": [
                        "aws_iam_server_certificate.self-signed-staging",
                        "aws_security_group.corporate-elb-ec2",
                        "aws_security_group.corporate-elb-inet",
                        "aws_subnet.public-a",
                        "aws_subnet.public-b"
                    ],
                    "primary": {
                        "id": "corporate",
                        "attributes": {
                            "availability_zones.#": "0",
                            "connection_draining": "true",
                            "connection_draining_timeout": "10",
                            "cross_zone_load_balancing": "true",
                            "dns_name": "corporate-354603517.eu-west-1.elb.amazonaws.com",
                            "health_check.#": "1",
                            "health_check.1482411749.healthy_threshold": "2",
                            "health_check.1482411749.interval": "5",
                            "health_check.1482411749.target": "HTTP:80/",
                            "health_check.1482411749.timeout": "2",
                            "health_check.1482411749.unhealthy_threshold": "2",
                            "id": "corporate",
                            "idle_timeout": "300",
                            "instances.#": "0",
                            "internal": "false",
                            "listener.#": "2",
                            "listener.3049811348.instance_port": "443",
                            "listener.3049811348.instance_protocol": "https",
                            "listener.3049811348.lb_port": "443",
                            "listener.3049811348.lb_protocol": "https",
                            "listener.3049811348.ssl_certificate_id": "arn:aws:iam::775034650473:server-certificate/self-signed-staging",
                            "listener.3057123346.instance_port": "80",
                            "listener.3057123346.instance_protocol": "http",
                            "listener.3057123346.lb_port": "80",
                            "listener.3057123346.lb_protocol": "http",
                            "listener.3057123346.ssl_certificate_id": "",
                            "name": "corporate",
                            "security_groups.#": "2",
                            "security_groups.3402106646": "sg-9379b8f7",
                            "security_groups.3405970728": "sg-9d79b8f9",
                            "source_security_group": "corporate-elb-ec2",
                            "subnets.#": "2",
                            "subnets.1765553001": "subnet-044d3573",
                            "subnets.415811003": "subnet-ad98c8c8",
                            "tags.#": "1",
                            "tags.Name": "Corporate",
                            "zone_id": "Z3NF1Z3NOM5OY2"
                        }
                    }
                },
                "aws_elb.frontend": {
                    "type": "aws_elb",
                    "depends_on": [
                        "aws_iam_server_certificate.self-signed-staging",
                        "aws_security_group.cloudflare-ips",
                        "aws_security_group.frontend-elb-ec2",
                        "aws_subnet.public-a",
                        "aws_subnet.public-b"
                    ],
                    "primary": {
                        "id": "frontend",
                        "attributes": {
                            "availability_zones.#": "0",
                            "connection_draining": "true",
                            "connection_draining_timeout": "10",
                            "cross_zone_load_balancing": "true",
                            "dns_name": "frontend-686140148.eu-west-1.elb.amazonaws.com",
                            "health_check.#": "1",
                            "health_check.2290980666.healthy_threshold": "2",
                            "health_check.2290980666.interval": "5",
                            "health_check.2290980666.target": "HTTPS:8083/health-45016490610398192",
                            "health_check.2290980666.timeout": "2",
                            "health_check.2290980666.unhealthy_threshold": "2",
                            "id": "frontend",
                            "idle_timeout": "300",
                            "instances.#": "1",
                            "instances.2830569916": "i-f5625853",
                            "internal": "false",
                            "listener.#": "1",
                            "listener.2950382143.instance_port": "8083",
                            "listener.2950382143.instance_protocol": "https",
                            "listener.2950382143.lb_port": "443",
                            "listener.2950382143.lb_protocol": "https",
                            "listener.2950382143.ssl_certificate_id": "arn:aws:iam::775034650473:server-certificate/self-signed-staging",
                            "name": "frontend",
                            "security_groups.#": "2",
                            "security_groups.2631555094": "sg-9979b8fd",
                            "security_groups.465058868": "sg-9279b8f6",
                            "source_security_group": "frontend-elb-ec2",
                            "subnets.#": "2",
                            "subnets.1765553001": "subnet-044d3573",
                            "subnets.415811003": "subnet-ad98c8c8",
                            "tags.#": "1",
                            "tags.Name": "Frontend",
                            "zone_id": "Z3NF1Z3NOM5OY2"
                        }
                    }
                },
                "aws_iam_instance_profile.backend": {
                    "type": "aws_iam_instance_profile",
                    "depends_on": [
                        "aws_iam_role.backend"
                    ],
                    "primary": {
                        "id": "staging-backend",
                        "attributes": {
                            "arn": "arn:aws:iam::775034650473:instance-profile/staging-backend",
                            "id": "staging-backend",
                            "name": "staging-backend",
                            "path": "/",
                            "roles.#": "1",
                            "roles.282138795": "staging-backend"
                        }
                    }
                },
                "aws_iam_instance_profile.corporate": {
                    "type": "aws_iam_instance_profile",
                    "depends_on": [
                        "aws_iam_role.corporate"
                    ],
                    "primary": {
                        "id": "staging-corporate",
                        "attributes": {
                            "arn": "arn:aws:iam::775034650473:instance-profile/staging-corporate",
                            "id": "staging-corporate",
                            "name": "staging-corporate",
                            "path": "/",
                            "roles.#": "1",
                            "roles.2502985537": "staging-corporate"
                        }
                    }
                },
                "aws_iam_instance_profile.frontend": {
                    "type": "aws_iam_instance_profile",
                    "depends_on": [
                        "aws_iam_role.frontend"
                    ],
                    "primary": {
                        "id": "staging-frontend",
                        "attributes": {
                            "arn": "arn:aws:iam::775034650473:instance-profile/staging-frontend",
                            "id": "staging-frontend",
                            "name": "staging-frontend",
                            "path": "/",
                            "roles.#": "1",
                            "roles.2861044103": "staging-frontend"
                        }
                    }
                },
                "aws_iam_role.backend": {
                    "type": "aws_iam_role",
                    "primary": {
                        "id": "staging-backend",
                        "attributes": {
                            "arn": "arn:aws:iam::775034650473:role/staging-backend",
                            "assume_role_policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n",
                            "id": "staging-backend",
                            "name": "staging-backend",
                            "path": "/",
                            "unique_id": "AROAJ3737RLOH7FFAHC6W"
                        }
                    }
                },
                "aws_iam_role.corporate": {
                    "type": "aws_iam_role",
                    "primary": {
                        "id": "staging-corporate",
                        "attributes": {
                            "arn": "arn:aws:iam::775034650473:role/staging-corporate",
                            "assume_role_policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n",
                            "id": "staging-corporate",
                            "name": "staging-corporate",
                            "path": "/",
                            "unique_id": "AROAIGS44H2QZPJN4WAQ2"
                        }
                    }
                },
                "aws_iam_role.frontend": {
                    "type": "aws_iam_role",
                    "primary": {
                        "id": "staging-frontend",
                        "attributes": {
                            "arn": "arn:aws:iam::775034650473:role/staging-frontend",
                            "assume_role_policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n",
                            "id": "staging-frontend",
                            "name": "staging-frontend",
                            "path": "/",
                            "unique_id": "AROAJYVGOONRXQE723UTI"
                        }
                    }
                },
                "aws_iam_server_certificate.self-signed-staging": {
                    "type": "aws_iam_server_certificate",
                    "primary": {
                        "id": "ASCAIUOCRVGGGXGWJV5NK",
                        "attributes": {
                            "arn": "arn:aws:iam::775034650473:server-certificate/self-signed-staging",
                            "certificate_body": "81b006ca9832cd73f571f6753e10fdc6bcf77529",
                            "id": "ASCAIUOCRVGGGXGWJV5NK",
                            "name": "self-signed-staging",
                            "path": "/",
                            "private_key": "5ca1425d983ba24980b4199801c6e713400f3d8e"
                        }
                    }
                },
                "aws_instance.bastion": {
                    "type": "aws_instance",
                    "depends_on": [
                        "aws_security_group.bastion",
                        "aws_subnet.public-a"
                    ],
                    "primary": {
                        "id": "i-4a77abe6",
                        "attributes": {
                            "ami": "ami-0ae7bf7d",
                            "availability_zone": "eu-west-1a",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "id": "i-4a77abe6",
                            "instance_type": "t2.micro",
                            "monitoring": "false",
                            "private_dns": "ip-10-0-1-209.eu-west-1.compute.internal",
                            "private_ip": "10.0.1.209",
                            "public_dns": "ec2-52-17-122-98.eu-west-1.compute.amazonaws.com",
                            "public_ip": "52.17.122.98",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "24",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "1",
                            "security_groups.2764686849": "sg-9879b8fc",
                            "source_dest_check": "true",
                            "subnet_id": "subnet-ad98c8c8",
                            "tags.#": "1",
                            "tags.Name": "Bastion Host",
                            "tenancy": "default",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.2764686849": "sg-9879b8fc"
                        },
                        "meta": {
                            "schema_version": "1"
                        }
                    }
                },
                "aws_instance.nat": {
                    "type": "aws_instance",
                    "depends_on": [
                        "aws_security_group.from-nat",
                        "aws_subnet.public-a"
                    ],
                    "primary": {
                        "id": "i-4976aae5",
                        "attributes": {
                            "ami": "ami-cb7de3bc",
                            "associate_public_ip_address": "true",
                            "availability_zone": "eu-west-1a",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "id": "i-4976aae5",
                            "instance_type": "m1.small",
                            "monitoring": "false",
                            "private_dns": "ip-10-0-3-231.eu-west-1.compute.internal",
                            "private_ip": "10.0.3.231",
                            "public_dns": "ec2-52-18-226-226.eu-west-1.compute.amazonaws.com",
                            "public_ip": "52.18.226.226",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "0",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "standard",
                            "security_groups.#": "1",
                            "security_groups.2686739581": "sg-9f79b8fb",
                            "source_dest_check": "false",
                            "subnet_id": "subnet-ad98c8c8",
                            "tags.#": "1",
                            "tags.Name": "NAT instance",
                            "tenancy": "default",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.2686739581": "sg-9f79b8fb"
                        },
                        "meta": {
                            "schema_version": "1"
                        }
                    }
                },
                "aws_internet_gateway.default": {
                    "type": "aws_internet_gateway",
                    "depends_on": [
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "igw-d39022b6",
                        "attributes": {
                            "id": "igw-d39022b6",
                            "tags.#": "0",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_launch_configuration.backend": {
                    "type": "aws_launch_configuration",
                    "depends_on": [
                        "aws_iam_instance_profile.backend",
                        "aws_security_group.backend-ssh",
                        "aws_security_group.backend-ssh",
                        "aws_security_group.ec-redis-ec2",
                        "aws_security_group.rds_ec2",
                        "aws_security_group.to-nat"
                    ],
                    "primary": {
                        "id": "terraform-6iyoctagmffbrcva2rtz3dvnii",
                        "attributes": {
                            "associate_public_ip_address": "false",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "enable_monitoring": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "staging-backend",
                            "id": "terraform-6iyoctagmffbrcva2rtz3dvnii",
                            "image_id": "ami-0ae7bf7d",
                            "instance_type": "t2.micro",
                            "key_name": "",
                            "name": "terraform-6iyoctagmffbrcva2rtz3dvnii",
                            "root_block_device.#": "0",
                            "security_groups.#": "4",
                            "security_groups.1226325216": "sg-6578b901",
                            "security_groups.1392936055": "sg-9b79b8ff",
                            "security_groups.1800071112": "sg-6078b904",
                            "security_groups.2556954562": "sg-6478b900"
                        }
                    }
                },
                "aws_launch_configuration.corporate": {
                    "type": "aws_launch_configuration",
                    "depends_on": [
                        "aws_iam_instance_profile.corporate",
                        "aws_security_group.corporate-elb-vpc",
                        "aws_security_group.corporate-elb-vpc",
                        "aws_security_group.corporate-ssh",
                        "aws_security_group.corporate-ssh",
                        "aws_security_group.to-nat"
                    ],
                    "primary": {
                        "id": "terraform-llnmr3dtz5fmfa3tvmma3lmpgm",
                        "attributes": {
                            "associate_public_ip_address": "false",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "enable_monitoring": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "staging-corporate",
                            "id": "terraform-llnmr3dtz5fmfa3tvmma3lmpgm",
                            "image_id": "ami-1f634468",
                            "instance_type": "t2.micro",
                            "key_name": "",
                            "name": "terraform-llnmr3dtz5fmfa3tvmma3lmpgm",
                            "root_block_device.#": "0",
                            "security_groups.#": "3",
                            "security_groups.1226325216": "sg-6578b901",
                            "security_groups.1646873649": "sg-9079b8f4",
                            "security_groups.814304485": "sg-6778b903"
                        }
                    }
                },
                "aws_launch_configuration.frontend": {
                    "type": "aws_launch_configuration",
                    "depends_on": [
                        "aws_iam_instance_profile.frontend",
                        "aws_security_group.ec-redis-ec2",
                        "aws_security_group.frontend-elb-vpc",
                        "aws_security_group.frontend-elb-vpc",
                        "aws_security_group.frontend-ssh",
                        "aws_security_group.frontend-ssh",
                        "aws_security_group.rds_ec2",
                        "aws_security_group.to-nat"
                    ],
                    "primary": {
                        "id": "terraform-sjldd5brwzgxdb7yavzxtkwx5y",
                        "attributes": {
                            "associate_public_ip_address": "false",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "enable_monitoring": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "staging-frontend",
                            "id": "terraform-sjldd5brwzgxdb7yavzxtkwx5y",
                            "image_id": "ami-0ae7bf7d",
                            "instance_type": "m4.xlarge",
                            "key_name": "",
                            "name": "terraform-sjldd5brwzgxdb7yavzxtkwx5y",
                            "root_block_device.#": "0",
                            "security_groups.#": "5",
                            "security_groups.1226325216": "sg-6578b901",
                            "security_groups.1392936055": "sg-9b79b8ff",
                            "security_groups.1800071112": "sg-6078b904",
                            "security_groups.2040722224": "sg-9c79b8f8",
                            "security_groups.3791222727": "sg-6678b902"
                        }
                    }
                },
                "aws_route53_record.cache-app": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_elasticache_cluster.rate-limiter",
                        "aws_route53_zone.tapglue-internal"
                    ],
                    "primary": {
                        "id": "Z1F0M54P2NWP5I_cache-app_CNAME",
                        "attributes": {
                            "fqdn": "cache-app.tapglue.int",
                            "id": "Z1F0M54P2NWP5I_cache-app_CNAME",
                            "name": "cache-app",
                            "records.#": "1",
                            "records.2315521925": "rate-limiter.aneiyk.0001.euw1.cache.amazonaws.com",
                            "ttl": "5",
                            "type": "CNAME",
                            "zone_id": "Z1F0M54P2NWP5I"
                        }
                    }
                },
                "aws_route53_record.db-master": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_db_instance.master",
                        "aws_route53_zone.tapglue-internal"
                    ],
                    "primary": {
                        "id": "Z1F0M54P2NWP5I_db-master_CNAME",
                        "attributes": {
                            "fqdn": "db-master.tapglue.int",
                            "id": "Z1F0M54P2NWP5I_db-master_CNAME",
                            "name": "db-master",
                            "records.#": "1",
                            "records.622544654": "tapglue-master.czxunysihvq8.eu-west-1.rds.amazonaws.com",
                            "ttl": "5",
                            "type": "CNAME",
                            "zone_id": "Z1F0M54P2NWP5I"
                        }
                    }
                },
                "aws_route53_record.db-slave1": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_db_instance.master",
                        "aws_route53_zone.tapglue-internal"
                    ],
                    "primary": {
                        "id": "Z1F0M54P2NWP5I_db-slave1_CNAME",
                        "attributes": {
                            "fqdn": "db-slave1.tapglue.int",
                            "id": "Z1F0M54P2NWP5I_db-slave1_CNAME",
                            "name": "db-slave1",
                            "records.#": "1",
                            "records.4272119103": "slave1.czxunysihvq8.eu-west-1.rds.amazonaws.com",
                            "ttl": "5",
                            "type": "CNAME",
                            "zone_id": "Z1F0M54P2NWP5I"
                        }
                    }
                },
                "aws_route53_record.db-slave2": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_db_instance.master",
                        "aws_route53_zone.tapglue-internal"
                    ],
                    "primary": {
                        "id": "Z1F0M54P2NWP5I_db-slave2_CNAME",
                        "attributes": {
                            "fqdn": "db-slave2.tapglue.int",
                            "id": "Z1F0M54P2NWP5I_db-slave2_CNAME",
                            "name": "db-slave2",
                            "records.#": "1",
                            "records.4272119103": "slave1.czxunysihvq8.eu-west-1.rds.amazonaws.com",
                            "ttl": "5",
                            "type": "CNAME",
                            "zone_id": "Z1F0M54P2NWP5I"
                        }
                    }
                },
                "aws_route53_record.rate-limiter": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_elasticache_cluster.rate-limiter",
                        "aws_route53_zone.tapglue-internal"
                    ],
                    "primary": {
                        "id": "Z1F0M54P2NWP5I_rate-limiter_CNAME",
                        "attributes": {
                            "fqdn": "rate-limiter.tapglue.int",
                            "id": "Z1F0M54P2NWP5I_rate-limiter_CNAME",
                            "name": "rate-limiter",
                            "records.#": "1",
                            "records.2315521925": "rate-limiter.aneiyk.0001.euw1.cache.amazonaws.com",
                            "ttl": "5",
                            "type": "CNAME",
                            "zone_id": "Z1F0M54P2NWP5I"
                        }
                    }
                },
                "aws_route53_zone.tapglue-internal": {
                    "type": "aws_route53_zone",
                    "depends_on": [
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "Z1F0M54P2NWP5I",
                        "attributes": {
                            "comment": "Internal staging zone",
                            "id": "Z1F0M54P2NWP5I",
                            "name": "tapglue.int",
                            "name_servers.#": "4",
                            "name_servers.0": "ns-0.awsdns-00.com.",
                            "name_servers.1": "ns-1024.awsdns-00.org.",
                            "name_servers.2": "ns-1536.awsdns-00.co.uk.",
                            "name_servers.3": "ns-512.awsdns-00.net.",
                            "tags.#": "1",
                            "tags.Environment": "staging",
                            "vpc_id": "vpc-129bfa77",
                            "vpc_region": "eu-west-1",
                            "zone_id": "Z1F0M54P2NWP5I"
                        }
                    }
                },
                "aws_route_table.public": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_internet_gateway.default",
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "rtb-e20b4e87",
                        "attributes": {
                            "id": "rtb-e20b4e87",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.1418168393.cidr_block": "0.0.0.0/0",
                            "route.1418168393.gateway_id": "igw-d39022b6",
                            "route.1418168393.instance_id": "",
                            "route.1418168393.network_interface_id": "",
                            "route.1418168393.vpc_peering_connection_id": "",
                            "tags.#": "1",
                            "tags.Name": "public",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_route_table.to-nat": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_instance.nat",
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "rtb-f30b4e96",
                        "attributes": {
                            "id": "rtb-f30b4e96",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.222695529.cidr_block": "0.0.0.0/0",
                            "route.222695529.gateway_id": "",
                            "route.222695529.instance_id": "i-4976aae5",
                            "route.222695529.network_interface_id": "eni-b10f95d6",
                            "route.222695529.vpc_peering_connection_id": "",
                            "tags.#": "1",
                            "tags.Name": "to-nat",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_route_table_association.backend-a": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.to-nat",
                        "aws_subnet.backend-a"
                    ],
                    "primary": {
                        "id": "rtbassoc-c32771a6",
                        "attributes": {
                            "id": "rtbassoc-c32771a6",
                            "route_table_id": "rtb-f30b4e96",
                            "subnet_id": "subnet-a398c8c6"
                        }
                    }
                },
                "aws_route_table_association.backend-b": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.to-nat",
                        "aws_subnet.backend-b"
                    ],
                    "primary": {
                        "id": "rtbassoc-c62771a3",
                        "attributes": {
                            "id": "rtbassoc-c62771a3",
                            "route_table_id": "rtb-f30b4e96",
                            "subnet_id": "subnet-024d3575"
                        }
                    }
                },
                "aws_route_table_association.corporate-a": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.to-nat",
                        "aws_subnet.corporate-a"
                    ],
                    "primary": {
                        "id": "rtbassoc-c02771a5",
                        "attributes": {
                            "id": "rtbassoc-c02771a5",
                            "route_table_id": "rtb-f30b4e96",
                            "subnet_id": "subnet-ac98c8c9"
                        }
                    }
                },
                "aws_route_table_association.corporate-b": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.to-nat",
                        "aws_subnet.corporate-b"
                    ],
                    "primary": {
                        "id": "rtbassoc-c22771a7",
                        "attributes": {
                            "id": "rtbassoc-c22771a7",
                            "route_table_id": "rtb-f30b4e96",
                            "subnet_id": "subnet-004d3577"
                        }
                    }
                },
                "aws_route_table_association.frontend-a": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.to-nat",
                        "aws_subnet.frontend-a"
                    ],
                    "primary": {
                        "id": "rtbassoc-c12771a4",
                        "attributes": {
                            "id": "rtbassoc-c12771a4",
                            "route_table_id": "rtb-f30b4e96",
                            "subnet_id": "subnet-a098c8c5"
                        }
                    }
                },
                "aws_route_table_association.frontend-b": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.to-nat",
                        "aws_subnet.frontend-b"
                    ],
                    "primary": {
                        "id": "rtbassoc-cd2771a8",
                        "attributes": {
                            "id": "rtbassoc-cd2771a8",
                            "route_table_id": "rtb-f30b4e96",
                            "subnet_id": "subnet-034d3574"
                        }
                    }
                },
                "aws_route_table_association.public-a": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.public",
                        "aws_subnet.public-a"
                    ],
                    "primary": {
                        "id": "rtbassoc-f7277192",
                        "attributes": {
                            "id": "rtbassoc-f7277192",
                            "route_table_id": "rtb-e20b4e87",
                            "subnet_id": "subnet-ad98c8c8"
                        }
                    }
                },
                "aws_route_table_association.public-b": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.public",
                        "aws_subnet.public-b"
                    ],
                    "primary": {
                        "id": "rtbassoc-f6277193",
                        "attributes": {
                            "id": "rtbassoc-f6277193",
                            "route_table_id": "rtb-e20b4e87",
                            "subnet_id": "subnet-044d3573"
                        }
                    }
                },
                "aws_security_group.backend-ssh": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_security_group.bastion",
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "sg-6478b900",
                        "attributes": {
                            "description": "Allow SSH traffic from the Bastion host",
                            "egress.#": "1",
                            "egress.3175997522.cidr_blocks.#": "0",
                            "egress.3175997522.from_port": "22",
                            "egress.3175997522.protocol": "tcp",
                            "egress.3175997522.security_groups.#": "1",
                            "egress.3175997522.security_groups.2764686849": "sg-9879b8fc",
                            "egress.3175997522.self": "false",
                            "egress.3175997522.to_port": "22",
                            "id": "sg-6478b900",
                            "ingress.#": "1",
                            "ingress.3175997522.cidr_blocks.#": "0",
                            "ingress.3175997522.from_port": "22",
                            "ingress.3175997522.protocol": "tcp",
                            "ingress.3175997522.security_groups.#": "1",
                            "ingress.3175997522.security_groups.2764686849": "sg-9879b8fc",
                            "ingress.3175997522.self": "false",
                            "ingress.3175997522.to_port": "22",
                            "name": "backend-ssh",
                            "owner_id": "775034650473",
                            "tags.#": "1",
                            "tags.Name": "SSH from Bastion to Backend",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_security_group.bastion": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_subnet.backend-a",
                        "aws_subnet.backend-b",
                        "aws_subnet.corporate-a",
                        "aws_subnet.corporate-b",
                        "aws_subnet.frontend-a",
                        "aws_subnet.frontend-b",
                        "aws_subnet.public-a",
                        "aws_subnet.public-b",
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "sg-9879b8fc",
                        "attributes": {
                            "description": "Allow SSH traffic from the internet",
                            "egress.#": "1",
                            "egress.1243553116.cidr_blocks.#": "8",
                            "egress.1243553116.cidr_blocks.0": "10.0.0.0/22",
                            "egress.1243553116.cidr_blocks.1": "10.0.4.0/22",
                            "egress.1243553116.cidr_blocks.2": "10.0.12.0/22",
                            "egress.1243553116.cidr_blocks.3": "10.0.16.0/22",
                            "egress.1243553116.cidr_blocks.4": "10.0.24.0/22",
                            "egress.1243553116.cidr_blocks.5": "10.0.28.0/22",
                            "egress.1243553116.cidr_blocks.6": "10.0.44.0/24",
                            "egress.1243553116.cidr_blocks.7": "10.0.45.0/24",
                            "egress.1243553116.from_port": "22",
                            "egress.1243553116.protocol": "tcp",
                            "egress.1243553116.security_groups.#": "0",
                            "egress.1243553116.self": "false",
                            "egress.1243553116.to_port": "22",
                            "id": "sg-9879b8fc",
                            "ingress.#": "1",
                            "ingress.2541437006.cidr_blocks.#": "1",
                            "ingress.2541437006.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2541437006.from_port": "22",
                            "ingress.2541437006.protocol": "tcp",
                            "ingress.2541437006.security_groups.#": "0",
                            "ingress.2541437006.self": "false",
                            "ingress.2541437006.to_port": "22",
                            "name": "bastion",
                            "owner_id": "775034650473",
                            "tags.#": "1",
                            "tags.Name": "Bastion",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_security_group.cloudflare-ips": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "sg-9279b8f6",
                        "attributes": {
                            "description": "Cloudflare IPs",
                            "egress.#": "2",
                            "egress.2864670093.cidr_blocks.#": "14",
                            "egress.2864670093.cidr_blocks.0": "103.21.244.0/22",
                            "egress.2864670093.cidr_blocks.1": "103.22.200.0/22",
                            "egress.2864670093.cidr_blocks.10": "190.93.240.0/20",
                            "egress.2864670093.cidr_blocks.11": "197.234.240.0/22",
                            "egress.2864670093.cidr_blocks.12": "198.41.128.0/17",
                            "egress.2864670093.cidr_blocks.13": "199.27.128.0/21",
                            "egress.2864670093.cidr_blocks.2": "103.31.4.0/22",
                            "egress.2864670093.cidr_blocks.3": "104.16.0.0/12",
                            "egress.2864670093.cidr_blocks.4": "108.162.192.0/18",
                            "egress.2864670093.cidr_blocks.5": "141.101.64.0/18",
                            "egress.2864670093.cidr_blocks.6": "162.158.0.0/15",
                            "egress.2864670093.cidr_blocks.7": "172.64.0.0/13",
                            "egress.2864670093.cidr_blocks.8": "173.245.48.0/20",
                            "egress.2864670093.cidr_blocks.9": "188.114.96.0/20",
                            "egress.2864670093.from_port": "80",
                            "egress.2864670093.protocol": "tcp",
                            "egress.2864670093.security_groups.#": "0",
                            "egress.2864670093.self": "false",
                            "egress.2864670093.to_port": "80",
                            "egress.4132878043.cidr_blocks.#": "14",
                            "egress.4132878043.cidr_blocks.0": "103.21.244.0/22",
                            "egress.4132878043.cidr_blocks.1": "103.22.200.0/22",
                            "egress.4132878043.cidr_blocks.10": "190.93.240.0/20",
                            "egress.4132878043.cidr_blocks.11": "197.234.240.0/22",
                            "egress.4132878043.cidr_blocks.12": "198.41.128.0/17",
                            "egress.4132878043.cidr_blocks.13": "199.27.128.0/21",
                            "egress.4132878043.cidr_blocks.2": "103.31.4.0/22",
                            "egress.4132878043.cidr_blocks.3": "104.16.0.0/12",
                            "egress.4132878043.cidr_blocks.4": "108.162.192.0/18",
                            "egress.4132878043.cidr_blocks.5": "141.101.64.0/18",
                            "egress.4132878043.cidr_blocks.6": "162.158.0.0/15",
                            "egress.4132878043.cidr_blocks.7": "172.64.0.0/13",
                            "egress.4132878043.cidr_blocks.8": "173.245.48.0/20",
                            "egress.4132878043.cidr_blocks.9": "188.114.96.0/20",
                            "egress.4132878043.from_port": "443",
                            "egress.4132878043.protocol": "tcp",
                            "egress.4132878043.security_groups.#": "0",
                            "egress.4132878043.self": "false",
                            "egress.4132878043.to_port": "443",
                            "id": "sg-9279b8f6",
                            "ingress.#": "2",
                            "ingress.2864670093.cidr_blocks.#": "14",
                            "ingress.2864670093.cidr_blocks.0": "103.21.244.0/22",
                            "ingress.2864670093.cidr_blocks.1": "103.22.200.0/22",
                            "ingress.2864670093.cidr_blocks.10": "190.93.240.0/20",
                            "ingress.2864670093.cidr_blocks.11": "197.234.240.0/22",
                            "ingress.2864670093.cidr_blocks.12": "198.41.128.0/17",
                            "ingress.2864670093.cidr_blocks.13": "199.27.128.0/21",
                            "ingress.2864670093.cidr_blocks.2": "103.31.4.0/22",
                            "ingress.2864670093.cidr_blocks.3": "104.16.0.0/12",
                            "ingress.2864670093.cidr_blocks.4": "108.162.192.0/18",
                            "ingress.2864670093.cidr_blocks.5": "141.101.64.0/18",
                            "ingress.2864670093.cidr_blocks.6": "162.158.0.0/15",
                            "ingress.2864670093.cidr_blocks.7": "172.64.0.0/13",
                            "ingress.2864670093.cidr_blocks.8": "173.245.48.0/20",
                            "ingress.2864670093.cidr_blocks.9": "188.114.96.0/20",
                            "ingress.2864670093.from_port": "80",
                            "ingress.2864670093.protocol": "tcp",
                            "ingress.2864670093.security_groups.#": "0",
                            "ingress.2864670093.self": "false",
                            "ingress.2864670093.to_port": "80",
                            "ingress.4132878043.cidr_blocks.#": "14",
                            "ingress.4132878043.cidr_blocks.0": "103.21.244.0/22",
                            "ingress.4132878043.cidr_blocks.1": "103.22.200.0/22",
                            "ingress.4132878043.cidr_blocks.10": "190.93.240.0/20",
                            "ingress.4132878043.cidr_blocks.11": "197.234.240.0/22",
                            "ingress.4132878043.cidr_blocks.12": "198.41.128.0/17",
                            "ingress.4132878043.cidr_blocks.13": "199.27.128.0/21",
                            "ingress.4132878043.cidr_blocks.2": "103.31.4.0/22",
                            "ingress.4132878043.cidr_blocks.3": "104.16.0.0/12",
                            "ingress.4132878043.cidr_blocks.4": "108.162.192.0/18",
                            "ingress.4132878043.cidr_blocks.5": "141.101.64.0/18",
                            "ingress.4132878043.cidr_blocks.6": "162.158.0.0/15",
                            "ingress.4132878043.cidr_blocks.7": "172.64.0.0/13",
                            "ingress.4132878043.cidr_blocks.8": "173.245.48.0/20",
                            "ingress.4132878043.cidr_blocks.9": "188.114.96.0/20",
                            "ingress.4132878043.from_port": "443",
                            "ingress.4132878043.protocol": "tcp",
                            "ingress.4132878043.security_groups.#": "0",
                            "ingress.4132878043.self": "false",
                            "ingress.4132878043.to_port": "443",
                            "name": "cloudflare-ips",
                            "owner_id": "775034650473",
                            "tags.#": "1",
                            "tags.Name": "Cloudflare IPs",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_security_group.corporate-elb-ec2": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_security_group.corporate-elb-vpc",
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "sg-9d79b8f9",
                        "attributes": {
                            "description": "Allow Traffic from ELB to EC2",
                            "egress.#": "2",
                            "egress.3252247815.cidr_blocks.#": "0",
                            "egress.3252247815.from_port": "443",
                            "egress.3252247815.protocol": "tcp",
                            "egress.3252247815.security_groups.#": "1",
                            "egress.3252247815.security_groups.1646873649": "sg-9079b8f4",
                            "egress.3252247815.self": "false",
                            "egress.3252247815.to_port": "443",
                            "egress.769158593.cidr_blocks.#": "0",
                            "egress.769158593.from_port": "80",
                            "egress.769158593.protocol": "tcp",
                            "egress.769158593.security_groups.#": "1",
                            "egress.769158593.security_groups.1646873649": "sg-9079b8f4",
                            "egress.769158593.self": "false",
                            "egress.769158593.to_port": "80",
                            "id": "sg-9d79b8f9",
                            "ingress.#": "2",
                            "ingress.1844393598.cidr_blocks.#": "0",
                            "ingress.1844393598.from_port": "80",
                            "ingress.1844393598.protocol": "tcp",
                            "ingress.1844393598.security_groups.#": "0",
                            "ingress.1844393598.self": "true",
                            "ingress.1844393598.to_port": "80",
                            "ingress.3167104115.cidr_blocks.#": "0",
                            "ingress.3167104115.from_port": "443",
                            "ingress.3167104115.protocol": "tcp",
                            "ingress.3167104115.security_groups.#": "0",
                            "ingress.3167104115.self": "true",
                            "ingress.3167104115.to_port": "443",
                            "name": "corporate-elb-ec2",
                            "owner_id": "775034650473",
                            "tags.#": "1",
                            "tags.Name": "Allow Traffic from ELB to EC2",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_security_group.corporate-elb-inet": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "sg-9379b8f7",
                        "attributes": {
                            "description": "Allow Internet traffic to and from ELB",
                            "egress.#": "2",
                            "egress.2214680975.cidr_blocks.#": "1",
                            "egress.2214680975.cidr_blocks.0": "0.0.0.0/0",
                            "egress.2214680975.from_port": "80",
                            "egress.2214680975.protocol": "tcp",
                            "egress.2214680975.security_groups.#": "0",
                            "egress.2214680975.self": "false",
                            "egress.2214680975.to_port": "80",
                            "egress.2617001939.cidr_blocks.#": "1",
                            "egress.2617001939.cidr_blocks.0": "0.0.0.0/0",
                            "egress.2617001939.from_port": "443",
                            "egress.2617001939.protocol": "tcp",
                            "egress.2617001939.security_groups.#": "0",
                            "egress.2617001939.self": "false",
                            "egress.2617001939.to_port": "443",
                            "id": "sg-9379b8f7",
                            "ingress.#": "2",
                            "ingress.2214680975.cidr_blocks.#": "1",
                            "ingress.2214680975.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2214680975.from_port": "80",
                            "ingress.2214680975.protocol": "tcp",
                            "ingress.2214680975.security_groups.#": "0",
                            "ingress.2214680975.self": "false",
                            "ingress.2214680975.to_port": "80",
                            "ingress.2617001939.cidr_blocks.#": "1",
                            "ingress.2617001939.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2617001939.from_port": "443",
                            "ingress.2617001939.protocol": "tcp",
                            "ingress.2617001939.security_groups.#": "0",
                            "ingress.2617001939.self": "false",
                            "ingress.2617001939.to_port": "443",
                            "name": "corporate-elb-inet",
                            "owner_id": "775034650473",
                            "tags.#": "1",
                            "tags.Name": "Internet to ELB Corporate",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_security_group.corporate-elb-vpc": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "sg-9079b8f4",
                        "attributes": {
                            "description": "Allow EC2 traffic to and from the ELB",
                            "egress.#": "2",
                            "egress.2214680975.cidr_blocks.#": "1",
                            "egress.2214680975.cidr_blocks.0": "0.0.0.0/0",
                            "egress.2214680975.from_port": "80",
                            "egress.2214680975.protocol": "tcp",
                            "egress.2214680975.security_groups.#": "0",
                            "egress.2214680975.self": "false",
                            "egress.2214680975.to_port": "80",
                            "egress.2617001939.cidr_blocks.#": "1",
                            "egress.2617001939.cidr_blocks.0": "0.0.0.0/0",
                            "egress.2617001939.from_port": "443",
                            "egress.2617001939.protocol": "tcp",
                            "egress.2617001939.security_groups.#": "0",
                            "egress.2617001939.self": "false",
                            "egress.2617001939.to_port": "443",
                            "id": "sg-9079b8f4",
                            "ingress.#": "2",
                            "ingress.2214680975.cidr_blocks.#": "1",
                            "ingress.2214680975.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2214680975.from_port": "80",
                            "ingress.2214680975.protocol": "tcp",
                            "ingress.2214680975.security_groups.#": "0",
                            "ingress.2214680975.self": "false",
                            "ingress.2214680975.to_port": "80",
                            "ingress.2617001939.cidr_blocks.#": "1",
                            "ingress.2617001939.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2617001939.from_port": "443",
                            "ingress.2617001939.protocol": "tcp",
                            "ingress.2617001939.security_groups.#": "0",
                            "ingress.2617001939.self": "false",
                            "ingress.2617001939.to_port": "443",
                            "name": "corporate-elb",
                            "owner_id": "775034650473",
                            "tags.#": "1",
                            "tags.Name": "ELB Frontend to EC2",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_security_group.corporate-ssh": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_security_group.bastion",
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "sg-6778b903",
                        "attributes": {
                            "description": "Allow SSH traffic from the Bastion host",
                            "egress.#": "1",
                            "egress.3175997522.cidr_blocks.#": "0",
                            "egress.3175997522.from_port": "22",
                            "egress.3175997522.protocol": "tcp",
                            "egress.3175997522.security_groups.#": "1",
                            "egress.3175997522.security_groups.2764686849": "sg-9879b8fc",
                            "egress.3175997522.self": "false",
                            "egress.3175997522.to_port": "22",
                            "id": "sg-6778b903",
                            "ingress.#": "1",
                            "ingress.3175997522.cidr_blocks.#": "0",
                            "ingress.3175997522.from_port": "22",
                            "ingress.3175997522.protocol": "tcp",
                            "ingress.3175997522.security_groups.#": "1",
                            "ingress.3175997522.security_groups.2764686849": "sg-9879b8fc",
                            "ingress.3175997522.self": "false",
                            "ingress.3175997522.to_port": "22",
                            "name": "corporate-ssh",
                            "owner_id": "775034650473",
                            "tags.#": "1",
                            "tags.Name": "SSH from Bastion to Corporate",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_security_group.ec-redis": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_subnet.backend-a",
                        "aws_subnet.backend-b",
                        "aws_subnet.frontend-a",
                        "aws_subnet.frontend-b",
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "sg-9e79b8fa",
                        "attributes": {
                            "description": "Redis cache EC2 incoming traffic",
                            "egress.#": "1",
                            "egress.599661728.cidr_blocks.#": "4",
                            "egress.599661728.cidr_blocks.0": "10.0.12.0/22",
                            "egress.599661728.cidr_blocks.1": "10.0.16.0/22",
                            "egress.599661728.cidr_blocks.2": "10.0.24.0/22",
                            "egress.599661728.cidr_blocks.3": "10.0.28.0/22",
                            "egress.599661728.from_port": "6379",
                            "egress.599661728.protocol": "tcp",
                            "egress.599661728.security_groups.#": "0",
                            "egress.599661728.self": "false",
                            "egress.599661728.to_port": "6379",
                            "id": "sg-9e79b8fa",
                            "ingress.#": "1",
                            "ingress.599661728.cidr_blocks.#": "4",
                            "ingress.599661728.cidr_blocks.0": "10.0.12.0/22",
                            "ingress.599661728.cidr_blocks.1": "10.0.16.0/22",
                            "ingress.599661728.cidr_blocks.2": "10.0.24.0/22",
                            "ingress.599661728.cidr_blocks.3": "10.0.28.0/22",
                            "ingress.599661728.from_port": "6379",
                            "ingress.599661728.protocol": "tcp",
                            "ingress.599661728.security_groups.#": "0",
                            "ingress.599661728.self": "false",
                            "ingress.599661728.to_port": "6379",
                            "name": "ec-redis",
                            "owner_id": "775034650473",
                            "tags.#": "1",
                            "tags.Name": "Redis cache incoming traffic",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_security_group.ec-redis-ec2": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_security_group.ec-redis",
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "sg-9b79b8ff",
                        "attributes": {
                            "description": "Redis cache EC2 outgoing traffic",
                            "egress.#": "1",
                            "egress.2457956171.cidr_blocks.#": "0",
                            "egress.2457956171.from_port": "6379",
                            "egress.2457956171.protocol": "tcp",
                            "egress.2457956171.security_groups.#": "1",
                            "egress.2457956171.security_groups.147140442": "sg-9e79b8fa",
                            "egress.2457956171.self": "false",
                            "egress.2457956171.to_port": "6379",
                            "id": "sg-9b79b8ff",
                            "ingress.#": "1",
                            "ingress.2457956171.cidr_blocks.#": "0",
                            "ingress.2457956171.from_port": "6379",
                            "ingress.2457956171.protocol": "tcp",
                            "ingress.2457956171.security_groups.#": "1",
                            "ingress.2457956171.security_groups.147140442": "sg-9e79b8fa",
                            "ingress.2457956171.self": "false",
                            "ingress.2457956171.to_port": "6379",
                            "name": "ec-redis-ec2",
                            "owner_id": "775034650473",
                            "tags.#": "1",
                            "tags.Name": "Redis cache incoming traffic",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_security_group.from-nat": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_subnet.backend-a",
                        "aws_subnet.backend-b",
                        "aws_subnet.corporate-a",
                        "aws_subnet.corporate-b",
                        "aws_subnet.frontend-a",
                        "aws_subnet.frontend-b",
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "sg-9f79b8fb",
                        "attributes": {
                            "description": "Allow services from the private subnet through NAT",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-9f79b8fb",
                            "ingress.#": "1",
                            "ingress.4184429038.cidr_blocks.#": "6",
                            "ingress.4184429038.cidr_blocks.0": "10.0.44.0/24",
                            "ingress.4184429038.cidr_blocks.1": "10.0.45.0/24",
                            "ingress.4184429038.cidr_blocks.2": "10.0.12.0/22",
                            "ingress.4184429038.cidr_blocks.3": "10.0.16.0/22",
                            "ingress.4184429038.cidr_blocks.4": "10.0.24.0/22",
                            "ingress.4184429038.cidr_blocks.5": "10.0.28.0/22",
                            "ingress.4184429038.from_port": "0",
                            "ingress.4184429038.protocol": "-1",
                            "ingress.4184429038.security_groups.#": "0",
                            "ingress.4184429038.self": "false",
                            "ingress.4184429038.to_port": "0",
                            "name": "from-nat",
                            "owner_id": "775034650473",
                            "tags.#": "1",
                            "tags.Name": "From NAT",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_security_group.frontend-elb-ec2": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_security_group.frontend-elb-vpc",
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "sg-9979b8fd",
                        "attributes": {
                            "description": "Allow Traffic from ELB to EC2",
                            "egress.#": "1",
                            "egress.109224705.cidr_blocks.#": "0",
                            "egress.109224705.from_port": "8083",
                            "egress.109224705.protocol": "tcp",
                            "egress.109224705.security_groups.#": "1",
                            "egress.109224705.security_groups.2040722224": "sg-9c79b8f8",
                            "egress.109224705.self": "false",
                            "egress.109224705.to_port": "8083",
                            "id": "sg-9979b8fd",
                            "ingress.#": "1",
                            "ingress.116507162.cidr_blocks.#": "0",
                            "ingress.116507162.from_port": "8083",
                            "ingress.116507162.protocol": "tcp",
                            "ingress.116507162.security_groups.#": "0",
                            "ingress.116507162.self": "true",
                            "ingress.116507162.to_port": "8083",
                            "name": "frontend-elb-ec2",
                            "owner_id": "775034650473",
                            "tags.#": "1",
                            "tags.Name": "Allow Traffic from ELB to EC2",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_security_group.frontend-elb-inet": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "sg-9179b8f5",
                        "attributes": {
                            "description": "Allow Internet traffic to and from ELB",
                            "egress.#": "1",
                            "egress.2617001939.cidr_blocks.#": "1",
                            "egress.2617001939.cidr_blocks.0": "0.0.0.0/0",
                            "egress.2617001939.from_port": "443",
                            "egress.2617001939.protocol": "tcp",
                            "egress.2617001939.security_groups.#": "0",
                            "egress.2617001939.self": "false",
                            "egress.2617001939.to_port": "443",
                            "id": "sg-9179b8f5",
                            "ingress.#": "1",
                            "ingress.2617001939.cidr_blocks.#": "1",
                            "ingress.2617001939.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2617001939.from_port": "443",
                            "ingress.2617001939.protocol": "tcp",
                            "ingress.2617001939.security_groups.#": "0",
                            "ingress.2617001939.self": "false",
                            "ingress.2617001939.to_port": "443",
                            "name": "frontend-elb-inet",
                            "owner_id": "775034650473",
                            "tags.#": "1",
                            "tags.Name": "Internet to ELB Frontend",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_security_group.frontend-elb-vpc": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "sg-9c79b8f8",
                        "attributes": {
                            "description": "Allow EC2 traffic to and from the ELB",
                            "egress.#": "1",
                            "egress.2485695960.cidr_blocks.#": "1",
                            "egress.2485695960.cidr_blocks.0": "0.0.0.0/0",
                            "egress.2485695960.from_port": "8083",
                            "egress.2485695960.protocol": "tcp",
                            "egress.2485695960.security_groups.#": "0",
                            "egress.2485695960.self": "false",
                            "egress.2485695960.to_port": "8083",
                            "id": "sg-9c79b8f8",
                            "ingress.#": "1",
                            "ingress.2485695960.cidr_blocks.#": "1",
                            "ingress.2485695960.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2485695960.from_port": "8083",
                            "ingress.2485695960.protocol": "tcp",
                            "ingress.2485695960.security_groups.#": "0",
                            "ingress.2485695960.self": "false",
                            "ingress.2485695960.to_port": "8083",
                            "name": "frontend-elb",
                            "owner_id": "775034650473",
                            "tags.#": "1",
                            "tags.Name": "ELB Frontend to EC2",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_security_group.frontend-ssh": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_security_group.bastion",
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "sg-6678b902",
                        "attributes": {
                            "description": "Allow SSH traffic from the Bastion host",
                            "egress.#": "1",
                            "egress.3175997522.cidr_blocks.#": "0",
                            "egress.3175997522.from_port": "22",
                            "egress.3175997522.protocol": "tcp",
                            "egress.3175997522.security_groups.#": "1",
                            "egress.3175997522.security_groups.2764686849": "sg-9879b8fc",
                            "egress.3175997522.self": "false",
                            "egress.3175997522.to_port": "22",
                            "id": "sg-6678b902",
                            "ingress.#": "1",
                            "ingress.3175997522.cidr_blocks.#": "0",
                            "ingress.3175997522.from_port": "22",
                            "ingress.3175997522.protocol": "tcp",
                            "ingress.3175997522.security_groups.#": "1",
                            "ingress.3175997522.security_groups.2764686849": "sg-9879b8fc",
                            "ingress.3175997522.self": "false",
                            "ingress.3175997522.to_port": "22",
                            "name": "frontend-ssh",
                            "owner_id": "775034650473",
                            "tags.#": "1",
                            "tags.Name": "SSH from Bastion to Frontend",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_security_group.rds_db": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_db_subnet_group.staging",
                        "aws_subnet.backend-a",
                        "aws_subnet.backend-b",
                        "aws_subnet.frontend-a",
                        "aws_subnet.frontend-b",
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "sg-9a79b8fe",
                        "attributes": {
                            "description": "Allow traffic on postgres port only",
                            "egress.#": "1",
                            "egress.2300592821.cidr_blocks.#": "4",
                            "egress.2300592821.cidr_blocks.0": "10.0.12.0/22",
                            "egress.2300592821.cidr_blocks.1": "10.0.16.0/22",
                            "egress.2300592821.cidr_blocks.2": "10.0.24.0/22",
                            "egress.2300592821.cidr_blocks.3": "10.0.28.0/22",
                            "egress.2300592821.from_port": "5432",
                            "egress.2300592821.protocol": "tcp",
                            "egress.2300592821.security_groups.#": "0",
                            "egress.2300592821.self": "false",
                            "egress.2300592821.to_port": "5432",
                            "id": "sg-9a79b8fe",
                            "ingress.#": "1",
                            "ingress.2300592821.cidr_blocks.#": "4",
                            "ingress.2300592821.cidr_blocks.0": "10.0.12.0/22",
                            "ingress.2300592821.cidr_blocks.1": "10.0.16.0/22",
                            "ingress.2300592821.cidr_blocks.2": "10.0.24.0/22",
                            "ingress.2300592821.cidr_blocks.3": "10.0.28.0/22",
                            "ingress.2300592821.from_port": "5432",
                            "ingress.2300592821.protocol": "tcp",
                            "ingress.2300592821.security_groups.#": "0",
                            "ingress.2300592821.self": "false",
                            "ingress.2300592821.to_port": "5432",
                            "name": "RDS incoming traffic",
                            "owner_id": "775034650473",
                            "tags.#": "1",
                            "tags.Name": "RDS incoming traffic",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_security_group.rds_ec2": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_db_subnet_group.staging",
                        "aws_security_group.rds_db",
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "sg-6078b904",
                        "attributes": {
                            "description": "Allow traffic to postgres port only",
                            "egress.#": "1",
                            "egress.1939971419.cidr_blocks.#": "0",
                            "egress.1939971419.from_port": "5432",
                            "egress.1939971419.protocol": "tcp",
                            "egress.1939971419.security_groups.#": "1",
                            "egress.1939971419.security_groups.4226273104": "sg-9a79b8fe",
                            "egress.1939971419.self": "false",
                            "egress.1939971419.to_port": "5432",
                            "id": "sg-6078b904",
                            "ingress.#": "1",
                            "ingress.1939971419.cidr_blocks.#": "0",
                            "ingress.1939971419.from_port": "5432",
                            "ingress.1939971419.protocol": "tcp",
                            "ingress.1939971419.security_groups.#": "1",
                            "ingress.1939971419.security_groups.4226273104": "sg-9a79b8fe",
                            "ingress.1939971419.self": "false",
                            "ingress.1939971419.to_port": "5432",
                            "name": "RDS outgoing traffic",
                            "owner_id": "775034650473",
                            "tags.#": "1",
                            "tags.Name": "RDS outgoing traffic",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_security_group.to-nat": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_security_group.from-nat",
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "sg-6578b901",
                        "attributes": {
                            "description": "Allow services from the private subnet through NAT",
                            "egress.#": "1",
                            "egress.2812381729.cidr_blocks.#": "0",
                            "egress.2812381729.from_port": "0",
                            "egress.2812381729.protocol": "-1",
                            "egress.2812381729.security_groups.#": "1",
                            "egress.2812381729.security_groups.2686739581": "sg-9f79b8fb",
                            "egress.2812381729.self": "false",
                            "egress.2812381729.to_port": "0",
                            "id": "sg-6578b901",
                            "ingress.#": "1",
                            "ingress.2812381729.cidr_blocks.#": "0",
                            "ingress.2812381729.from_port": "0",
                            "ingress.2812381729.protocol": "-1",
                            "ingress.2812381729.security_groups.#": "1",
                            "ingress.2812381729.security_groups.2686739581": "sg-9f79b8fb",
                            "ingress.2812381729.self": "false",
                            "ingress.2812381729.to_port": "0",
                            "name": "to-nat",
                            "owner_id": "775034650473",
                            "tags.#": "1",
                            "tags.Name": "To NAT",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_sns_topic.autoscaling-staging": {
                    "type": "aws_sns_topic",
                    "primary": {
                        "id": "arn:aws:sns:eu-west-1:775034650473:autoscaling-staging",
                        "attributes": {
                            "arn": "arn:aws:sns:eu-west-1:775034650473:autoscaling-staging",
                            "display_name": "",
                            "id": "arn:aws:sns:eu-west-1:775034650473:autoscaling-staging",
                            "name": "autoscaling-staging",
                            "policy": "{\"Version\":\"2008-10-17\",\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Sid\":\"__default_statement_ID\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Action\":[\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:DeleteTopic\",\"SNS:GetTopicAttributes\",\"SNS:Publish\",\"SNS:RemovePermission\",\"SNS:AddPermission\",\"SNS:Receive\",\"SNS:SetTopicAttributes\"],\"Resource\":\"arn:aws:sns:eu-west-1:775034650473:autoscaling-staging\",\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"775034650473\"}}}]}"
                        }
                    }
                },
                "aws_subnet.backend-a": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "subnet-a398c8c6",
                        "attributes": {
                            "availability_zone": "eu-west-1a",
                            "cidr_block": "10.0.24.0/22",
                            "id": "subnet-a398c8c6",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "1",
                            "tags.Name": "Backend A",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_subnet.backend-b": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "subnet-024d3575",
                        "attributes": {
                            "availability_zone": "eu-west-1b",
                            "cidr_block": "10.0.28.0/22",
                            "id": "subnet-024d3575",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "1",
                            "tags.Name": "Backend B",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_subnet.corporate-a": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "subnet-ac98c8c9",
                        "attributes": {
                            "availability_zone": "eu-west-1a",
                            "cidr_block": "10.0.44.0/24",
                            "id": "subnet-ac98c8c9",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "1",
                            "tags.Name": "Corporate A",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_subnet.corporate-b": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "subnet-004d3577",
                        "attributes": {
                            "availability_zone": "eu-west-1b",
                            "cidr_block": "10.0.45.0/24",
                            "id": "subnet-004d3577",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "1",
                            "tags.Name": "Corporate B",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_subnet.frontend-a": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "subnet-a098c8c5",
                        "attributes": {
                            "availability_zone": "eu-west-1a",
                            "cidr_block": "10.0.12.0/22",
                            "id": "subnet-a098c8c5",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "1",
                            "tags.Name": "Frontend A",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_subnet.frontend-b": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "subnet-034d3574",
                        "attributes": {
                            "availability_zone": "eu-west-1b",
                            "cidr_block": "10.0.16.0/22",
                            "id": "subnet-034d3574",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "1",
                            "tags.Name": "Frontend B",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_subnet.public-a": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "subnet-ad98c8c8",
                        "attributes": {
                            "availability_zone": "eu-west-1a",
                            "cidr_block": "10.0.0.0/22",
                            "id": "subnet-ad98c8c8",
                            "map_public_ip_on_launch": "true",
                            "tags.#": "1",
                            "tags.Name": "Public A",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_subnet.public-b": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "subnet-044d3573",
                        "attributes": {
                            "availability_zone": "eu-west-1b",
                            "cidr_block": "10.0.4.0/22",
                            "id": "subnet-044d3573",
                            "map_public_ip_on_launch": "true",
                            "tags.#": "1",
                            "tags.Name": "Public B",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_subnet.rds-a": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "subnet-a298c8c7",
                        "attributes": {
                            "availability_zone": "eu-west-1a",
                            "cidr_block": "10.0.36.0/22",
                            "id": "subnet-a298c8c7",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "1",
                            "tags.Name": "RDS A",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_subnet.rds-b": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "subnet-014d3576",
                        "attributes": {
                            "availability_zone": "eu-west-1b",
                            "cidr_block": "10.0.40.0/22",
                            "id": "subnet-014d3576",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "1",
                            "tags.Name": "RDS B",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "aws_vpc.tapglue": {
                    "type": "aws_vpc",
                    "primary": {
                        "id": "vpc-129bfa77",
                        "attributes": {
                            "cidr_block": "10.0.0.0/16",
                            "default_network_acl_id": "acl-3cea9559",
                            "default_security_group_id": "sg-9779b8f3",
                            "dhcp_options_id": "dopt-fa4bae9f",
                            "enable_dns_hostnames": "true",
                            "enable_dns_support": "true",
                            "id": "vpc-129bfa77",
                            "main_route_table_id": "rtb-e00b4e85",
                            "tags.#": "1",
                            "tags.Name": "Staging - Tapglue"
                        }
                    }
                },
                "aws_vpc_endpoint.private-s3": {
                    "type": "aws_vpc_endpoint",
                    "depends_on": [
                        "aws_route_table.to-nat",
                        "aws_vpc.tapglue"
                    ],
                    "primary": {
                        "id": "vpce-ba30d6d3",
                        "attributes": {
                            "id": "vpce-ba30d6d3",
                            "policy": "{\"Statement\":[{\"Action\":\"*\",\"Effect\":\"Allow\",\"Principal\":\"*\",\"Resource\":\"*\",\"Sid\":\"\"}],\"Version\":\"2008-10-17\"}",
                            "route_table_ids.#": "1",
                            "route_table_ids.3273589409": "rtb-f30b4e96",
                            "service_name": "com.amazonaws.eu-west-1.s3",
                            "vpc_id": "vpc-129bfa77"
                        }
                    }
                },
                "cloudflare_record.api-staging": {
                    "type": "cloudflare_record",
                    "depends_on": [
                        "aws_elb.frontend"
                    ],
                    "primary": {
                        "id": "369954325",
                        "attributes": {
                            "domain": "tapglue.com",
                            "hostname": "api-staging.tapglue.com",
                            "id": "369954325",
                            "name": "api-staging",
                            "priority": "",
                            "ttl": "1",
                            "type": "CNAME",
                            "value": "frontend-686140148.eu-west-1.elb.amazonaws.com"
                        }
                    }
                },
                "cloudflare_record.dashboard-staging": {
                    "type": "cloudflare_record",
                    "depends_on": [
                        "aws_elb.corporate"
                    ],
                    "primary": {
                        "id": "369956953",
                        "attributes": {
                            "domain": "tapglue.com",
                            "hostname": "dashboard-staging.tapglue.com",
                            "id": "369956953",
                            "name": "dashboard-staging",
                            "priority": "",
                            "ttl": "1",
                            "type": "CNAME",
                            "value": "corporate-354603517.eu-west-1.elb.amazonaws.com"
                        }
                    }
                },
                "cloudflare_record.styleguide-staging": {
                    "type": "cloudflare_record",
                    "depends_on": [
                        "aws_elb.corporate"
                    ],
                    "primary": {
                        "id": "369956959",
                        "attributes": {
                            "domain": "tapglue.com",
                            "hostname": "styleguide-staging.tapglue.com",
                            "id": "369956959",
                            "name": "styleguide-staging",
                            "priority": "",
                            "ttl": "1",
                            "type": "CNAME",
                            "value": "corporate-354603517.eu-west-1.elb.amazonaws.com"
                        }
                    }
                },
                "cloudflare_record.website-staging": {
                    "type": "cloudflare_record",
                    "depends_on": [
                        "aws_elb.corporate"
                    ],
                    "primary": {
                        "id": "369956962",
                        "attributes": {
                            "domain": "tapglue.com",
                            "hostname": "website-staging.tapglue.com",
                            "id": "369956962",
                            "name": "website-staging",
                            "priority": "",
                            "ttl": "1",
                            "type": "CNAME",
                            "value": "corporate-354603517.eu-west-1.elb.amazonaws.com"
                        }
                    }
                }
            }
        }
    ]
}
